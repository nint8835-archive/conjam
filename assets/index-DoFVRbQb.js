(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();function d(r,e){const i=r.data,n=e*4;return[i[n],i[n+1],i[n+2],i[n+3]]}function u(r,e,i){return r.data[e*4]=i[0],r.data[e*4+1]=i[1],r.data[e*4+2]=i[2],r.data[e*4+3]=i[3],r}function $(r){const e=document.getElementById("canvas"),i=e.getContext("2d"),n=i.getImageData(0,0,e.width,e.height),t=r(n);i.putImageData(t,0,0)}const s=640,F=480;function x(r,e){return e===0?0:r%e}function E(r,e){return Math.trunc(O(r,e))}function O(r,e){return e===0?0:r/e}function b(r,e,i){for(;;){let n=e,t=i;if(n===-1)return t;{let o=(()=>{if(E(n,s)===F-1)return t;{let l=d(t,n),p=d(t,n+s);if(l[0]===0&&l[1]===0&&l[2]===0&&l[3]===0)return t;if(p[0]===0&&p[1]===0&&p[2]===0&&p[3]===0){let c=u(t,n+s,l);return u(c,n,[0,0,0,0])}else{let a=d(t,n+s-1),c=d(t,n+s+1),I=x(n,s);if(a[0]===0&&a[1]===0&&a[2]===0&&a[3]===0&&I>0){let g=u(t,n+s-1,l);return u(g,n,[0,0,0,0])}else if(c[0]===0&&c[1]===0&&c[2]===0&&c[3]===0&&I<639){let g=u(t,n+s+1,l);return u(g,n,[0,0,0,0])}else return t}}})();e=n-1,i=o}}}function N(r,e,i,n){return $(t=>{let o=e?u(t,n*s+i,[255,255,255,255]):t;return b(r,F*s,o)})}let m=0,h=performance.now(),v=!1,w=0,y=0;function L(){N(m,v,w,y);const r=performance.now(),e=1e3/(r-h);m%600===0&&console.log(`Frame ${m} took ${r-h}ms (${e}fps)`),h=r,m++,requestAnimationFrame(L)}function P(){const r=document.getElementById("canvas");r.addEventListener("mousedown",e=>{v=!0,w=e.offsetX,y=e.offsetY}),r.addEventListener("mouseup",()=>{v=!1}),r.addEventListener("mousemove",e=>{w=e.offsetX,y=e.offsetY}),requestAnimationFrame(L)}P();
