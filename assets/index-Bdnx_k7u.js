var De=Object.defineProperty;var Se=(e,t,n)=>t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var R=(e,t,n)=>(Se(e,typeof t!="symbol"?t+"":t,n),n),re=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var j=(e,t,n)=>(re(e,t,"read from private field"),n?n.call(e):t.get(e)),ie=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},B=(e,t,n,r)=>(re(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerPolicy&&(u.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?u.credentials="include":i.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}})();function w(){}function _e(e){return e()}function ue(){return Object.create(null)}function P(e){e.forEach(_e)}function pe(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Pe(e){return Object.keys(e).length===0}function qe(e,...t){if(e==null){for(const r of t)r(void 0);return w}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Ce(e,t,n){e.$$.on_destroy.push(qe(t,n))}function se(e,t){e.appendChild(t)}function V(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function me(e){return document.createElement(e)}function G(e){return document.createTextNode(e)}function Xe(){return G(" ")}function N(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ye(e){return Array.from(e.childNodes)}function Re(e,t){t=""+t,e.data!==t&&(e.data=t)}function je(e,t,n,r){e.style.setProperty(t,n,"")}let A;function O(e){A=e}function Be(){if(!A)throw new Error("Function called outside component initialization");return A}function ze(e){Be().$$.on_mount.push(e)}const $=[],fe=[];let I=[];const le=[],Ve=Promise.resolve();let H=!1;function Ge(){H||(H=!0,Ve.then(ge))}function K(e){I.push(e)}const z=new Set;let b=0;function ge(){if(b!==0)return;const e=A;do{try{for(;b<$.length;){const t=$[b];b++,O(t),He(t.$$)}}catch(t){throw $.length=0,b=0,t}for(O(null),$.length=0,b=0;fe.length;)fe.pop()();for(let t=0;t<I.length;t+=1){const n=I[t];z.has(n)||(z.add(n),n())}I.length=0}while($.length);for(;le.length;)le.pop()();H=!1,z.clear(),O(e)}function He(e){if(e.fragment!==null){e.update(),P(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(K)}}function Ke(e){const t=[],n=[];I.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),I=t}const k=new Set;let Ue;function we(e,t){e&&e.i&&(k.delete(e),e.i(t))}function We(e,t,n,r){if(e&&e.o){if(k.has(e))return;k.add(e),Ue.c.push(()=>{k.delete(e)}),e.o(t)}}function Je(e){e&&e.c()}function xe(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),K(()=>{const u=e.$$.on_mount.map(_e).filter(pe);e.$$.on_destroy?e.$$.on_destroy.push(...u):P(u),e.$$.on_mount=[]}),i.forEach(K)}function ye(e,t){const n=e.$$;n.fragment!==null&&(Ke(n.after_update),P(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Qe(e,t){e.$$.dirty[0]===-1&&($.push(e),Ge(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function be(e,t,n,r,i,u,s=null,l=[-1]){const c=A;O(e);const f=e.$$={fragment:null,ctx:[],props:u,update:w,not_equal:i,bound:ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:ue(),dirty:l,skip_bound:!1,root:t.target||c.$$.root};s&&s(f.root);let a=!1;if(f.ctx=n?n(e,t.props||{},(o,d,...h)=>{const m=h.length?h[0]:d;return f.ctx&&i(f.ctx[o],f.ctx[o]=m)&&(!f.skip_bound&&f.bound[o]&&f.bound[o](m),a&&Qe(e,o)),d}):[],f.update(),a=!0,P(f.before_update),f.fragment=r?r(f.ctx):!1,t.target){if(t.hydrate){const o=Ye(t.target);f.fragment&&f.fragment.l(o),o.forEach(S)}else f.fragment&&f.fragment.c();t.intro&&we(e.$$.fragment),xe(e,t.target,t.anchor),ge()}O(c)}class Le{constructor(){R(this,"$$");R(this,"$$set")}$destroy(){ye(this,1),this.$destroy=w}$on(t,n){if(!pe(n))return w;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ze="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ze);class q{withFields(t){let n=Object.keys(this).map(r=>r in t?t[r]:this[r]);return new this.constructor(...n)}}class Q{static fromArray(t,n){let r=n||new $e;for(let i=t.length-1;i>=0;--i)r=new ve(t[i],r);return r}[Symbol.iterator](){return new et(this)}toArray(){return[...this]}atLeastLength(t){for(let n of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let n of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let n of this)t++;return t}}function p(e,t){return new ve(e,t)}function x(e,t){return Q.fromArray(e,t)}var y;class et{constructor(t){ie(this,y,void 0);B(this,y,t)}next(){if(j(this,y)instanceof $e)return{done:!0};{let{head:t,tail:n}=j(this,y);return B(this,y,n),{value:t,done:!1}}}}y=new WeakMap;class $e extends Q{}class ve extends Q{constructor(t,n){super(),this.head=t,this.tail=n}}class C extends q{static isResult(t){return t instanceof C}}class Ee extends C{constructor(t){super(),this[0]=t}isOk(){return!0}}let Ie=class extends C{constructor(t){super(),this[0]=t}isOk(){return!1}};function Fe(e,t){return e%t}function Z(e,t){return Math.trunc(tt(e,t))}function tt(e,t){return t===0?0:e/t}class ee extends q{}class te extends q{}class X extends q{}function nt(e){return e}function ce(e,t){let r=nt(e);return Oe(r,t)}function rt(e,t){return e===t?new te:e<t?new ee:new X}function it(e,t){for(;;){let n=e,r=t;if(n.atLeastLength(1))e=n.tail,t=r+1;else return r}}function ut(e){return it(e,0)}function st(e){if(e.hasLength(0))return new Ie(void 0);{let t=e.head;return new Ee(t)}}function ft(e,t){for(;;){let n=e,r=t;if(r<=0)return n;if(n.hasLength(0))return x([]);e=n.tail,t=r-1}}function U(e,t,n){for(;;){let r=e,i=t,u=n;if(r.hasLength(0))return i;{let s=r.head;e=r.tail,t=u(i,s),n=u}}}function ae(e,t,n,r,i,u){for(;;){let s=e,l=t,c=n,f=r,a=i,o=u;if(s===0&&l===0)return a;if(l===0&&c.atLeastLength(1)){let d=c.head,h=c.tail;e=s-1,t=l,n=h,r=f,i=p(d,a),u=o}else if(s===0&&f.atLeastLength(1)){let d=f.head,h=f.tail;e=s,t=l-1,n=c,r=h,i=p(d,a),u=o}else if(c.atLeastLength(1)&&f.atLeastLength(1)){let d=c.head,h=c.tail,m=f.head,Y=f.tail;o(d,m)instanceof X?(e=s,t=l-1,n=c,r=Y,i=p(m,a),u=o):(e=s-1,t=l,n=h,r=f,i=p(d,a),u=o)}else return a}}function oe(e,t,n,r,i,u){for(;;){let s=e,l=t,c=n,f=r,a=i,o=u;if(s===0&&l===0)return a;if(l===0&&c.atLeastLength(1)){let d=c.head,h=c.tail;e=s-1,t=l,n=h,r=f,i=p(d,a),u=o}else if(s===0&&f.atLeastLength(1)){let d=f.head,h=f.tail;e=s,t=l-1,n=c,r=h,i=p(d,a),u=o}else if(c.atLeastLength(1)&&f.atLeastLength(1)){let d=c.head,h=c.tail,m=f.head,Y=f.tail;o(m,d)instanceof ee?(e=s-1,t=l,n=h,r=f,i=p(d,a),u=o):(e=s,t=l-1,n=c,r=Y,i=p(m,a),u=o)}else return a}}function M(e,t,n,r){let i=Z(t,2),u=e,s=ft(e,i);return t<3?r?oe(i,t-i,u,s,x([]),n):ae(i,t-i,u,s,x([]),n):r?oe(i,t-i,M(u,i,n,!1),M(s,t-i,n,!1),x([]),n):ae(i,t-i,M(u,i,n,!0),M(s,t-i,n,!0),x([]),n)}function lt(e,t){return M(e,ut(e),t,!0)}function ct(e,t,n){for(;;){let r=e,i=t,u=n,s=rt(r,i);if(s instanceof te)return p(i,u);s instanceof X?(e=r,t=i+1,n=p(i,u)):(e=r,t=i-1,n=p(i,u))}}function de(e,t){return ct(e,t,x([]))}function at(e,t){for(;;){let n=e,r=t;if(n.hasLength(0))return r;{let i=n.head;e=n.tail,t=p(i[1],r)}}}function ot(e){return lt(e,(t,n)=>pt(t[0],n[0]))}function dt(e){let n=U(e,x([]),(i,u)=>p([Me(),u],i)),r=ot(n);return at(r,x([]))}function D(e,t){return e.isOk()?e[0]:t}function ht(e){return Math.ceil(e)}function he(e){return Math.round(e)}function _t(e,t){return Math.pow(e,t)}function Me(){const e=Math.random();return e===1?Me():e}function pt(e,t){return e===t?new te:e<t?new ee:new X}function mt(e){return ht(e)}function Oe(e,t){let n=mt(t)-t>0;return e<0&&n||e===0&&t<0?new Ie(void 0):new Ee(_t(e,t))}function gt(e){return Oe(e,.5)}function wt(e){return-1*e}function xt(e){return e>=0?he(e):0-he(wt(e))}function yt(e){return xt(e)}const W=640,Ae=480;function E(e,t){const n=e.data,r=t*4;return n[r]<<24|n[r+1]<<16|n[r+2]<<8|n[r+3]}function v(e,t,n){const r=t*4,i=e.data;return i[r]=n>>24&255,i[r+1]=n>>16&255,i[r+2]=n>>8&255,i[r+3]=n&255,e}function bt(e){const n=document.getElementById("canvas").getContext("2d"),r=n.getImageData(0,0,W,Ae),i=e(r);n.putImageData(i,0,0)}function Lt(e,t,n,r){let i=0;for(let u=-1;u<=1;u++){for(let s=-1;s<=1;s++){const l=t+u,c=n+s;l<0||l>=W||c<0||c>=Ae||r(E(e,c*W+l))&&i++}return i}}const g=640;function $t(e,t,n){return E(e,n*g+t)}function ne(e,t,n,r){return v(e,n*g+t,r)}const vt=480;function Et(){let t=x([4278190335,16711935,65535]),n=dt(t),r=st(n);return D(r,0)}function It(e,t){let n=Fe(t,g),r=Z(t,g),i=$t(e,n,r);return i===0||Lt(e,n,r,l=>i===l)===0?e:ne(e,n,r,0)}const Ft=479;function Mt(e,t){let n=Fe(t,g),r=Z(t,g);if(r===Ft)return e;{let u=E(e,t),s=E(e,t+g),l=E(e,t+g-1),c=E(e,t+g+1);if(u===0)return e;if(s===0){let a=ne(e,n,r+1,u);return v(a,t,0)}else if(l===0&&n>0){let a=v(e,t+g-1,u);return v(a,t,0)}else if(c===0&&n<639){let a=v(e,t+g+1,u);return v(a,t,0)}else return e}}function Ot(e,t,n){for(;;){let r=e,i=n;if(i===-1)return r;e=(()=>{let l=Mt(r,i);return It(l,i)})(),n=i-1}}const F=20;function At(e,t,n){let r=Et(),i=de(-1*F,F);return U(i,e,(u,s)=>{let l=de(-1*F,F);return U(l,u,(c,f)=>(()=>{let d=gt((()=>{let m=ce(f,2);return D(m,0)})()+(()=>{let m=ce(s,2);return D(m,0)})()),h=D(d,0);return yt(h)})()>F?c:ne(c,t+f,n+s,r))})}function Nt(e,t,n,r){return bt(i=>{let s=t?At(i,n,r):i;return Ot(s,e,vt*g)})}const L=[];function Tt(e,t=w){let n;const r=new Set;function i(l){if(J(e,l)&&(e=l,n)){const c=!L.length;for(const f of r)f[1](),L.push(f,e);if(c){for(let f=0;f<L.length;f+=2)L[f][0](L[f+1]);L.length=0}}}function u(l){i(l(e))}function s(l,c=w){const f=[l,c];return r.add(f),r.size===1&&(n=t(i,u)||w),l(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:u,subscribe:s}}const T=1,_={frameNumber:0,lastFrameTime:performance.now(),currentFrameTime:performance.now(),mouseDown:!1,mouseX:0,mouseY:0},Ne=Tt(_);function Te(){Nt(_.frameNumber,_.mouseDown,_.mouseX,_.mouseY),_.currentFrameTime=performance.now(),_.frameNumber++,Ne.update(()=>({..._})),_.lastFrameTime=_.currentFrameTime,requestAnimationFrame(Te)}function kt(){const e=document.getElementById("canvas"),t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),r=[[255,0,0,0],[0,255,0],[0,0,255]];for(let i=0;i<n.data.length;i+=4){const[u,s,l]=r[Math.floor(Math.random()*r.length)];n.data[i]=u,n.data[i+1]=s,n.data[i+2]=l,n.data[i+3]=255}t.putImageData(n,0,0),e.addEventListener("mousedown",i=>{_.mouseDown=!0,_.mouseX=Math.trunc(i.offsetX/T),_.mouseY=Math.trunc(i.offsetY/T)}),e.addEventListener("mouseup",()=>{_.mouseDown=!1}),e.addEventListener("mousemove",i=>{_.mouseX=Math.trunc(i.offsetX/T),_.mouseY=Math.trunc(i.offsetY/T)}),requestAnimationFrame(Te)}function Dt(e){let t,n,r;return{c(){t=me("div"),n=G("FPS: "),r=G(e[0])},m(i,u){V(i,t,u),se(t,n),se(t,r)},p(i,[u]){u&1&&Re(r,i[0])},i:w,o:w,d(i){i&&S(t)}}}const St=200;function Pt(e,t,n){let r;Ce(e,Ne,s=>n(2,r=s));let i=0,u=performance.now();return e.$$.update=()=>{if(e.$$.dirty&6){const s=performance.now();s-u>St&&(n(1,u=s),n(0,i=Math.trunc(1e3/(r.currentFrameTime-r.lastFrameTime))))}},[i,u,r]}class qt extends Le{constructor(t){super(),be(this,t,Pt,Dt,J,{})}}function Ct(e){let t,n,r,i;return r=new qt({}),{c(){t=me("canvas"),n=Xe(),Je(r.$$.fragment),N(t,"class","scale h-[480px] w-[640px] bg-black bg-opacity-25"),je(t,"image-rendering","pixelated"),N(t,"id","canvas"),N(t,"width","640"),N(t,"height","480")},m(u,s){V(u,t,s),V(u,n,s),xe(r,u,s),i=!0},p:w,i(u){i||(we(r.$$.fragment,u),i=!0)},o(u){We(r.$$.fragment,u),i=!1},d(u){u&&(S(t),S(n)),ye(r,u)}}}function Xt(e){return ze(()=>{kt()}),[]}class Yt extends Le{constructor(t){super(),be(this,t,Xt,Ct,J,{})}}new Yt({target:document.getElementById("app")});
