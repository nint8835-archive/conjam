(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function m(t,e){const n=t.data,o=e*4;return[n[o],n[o+1],n[o+2],n[o+3]]}function u(t,e,n){return t.data[e*4]=n[0],t.data[e*4+1]=n[1],t.data[e*4+2]=n[2],t.data[e*4+3]=n[3],t}function F(t){const e=document.getElementById("canvas"),n=e.getContext("2d"),o=n.getImageData(0,0,e.width,e.height),r=t(o);n.putImageData(r,0,0)}const l=640,w=480;function $(t,e){return e===0?0:t%e}function v(t,e){return Math.trunc(L(t,e))}function L(t,e){return e===0?0:t/e}function b(t,e){let n=$(e,l);if(v(e,l)===w-1)return t;{let i=m(t,e),s=m(t,e+l),p=m(t,e+l-1),a=m(t,e+l+1);if(i[0]===0&&i[1]===0&&i[2]===0&&i[3]===0)return t;if(s[0]===0&&s[1]===0&&s[2]===0&&s[3]===0){let f=u(t,e+l,i);return u(f,e,[0,0,0,0])}else if(p[0]===0&&p[1]===0&&p[2]===0&&p[3]===0&&n>0){let f=u(t,e+l-1,i);return u(f,e,[0,0,0,0])}else if(a[0]===0&&a[1]===0&&a[2]===0&&a[3]===0&&n<639){let f=u(t,e+l+1,i);return u(f,e,[0,0,0,0])}else return t}}function E(t,e,n){for(;;){let o=t,r=n;if(r===-1)return o;t=v(r,l)===w-1?o:b(o,r),n=r-1}}function O(t,e,n,o){return F(r=>{let s=e?u(r,o*l+n,[255,255,255,255]):r;return E(s,t,w*l)})}let _=0,d=performance.now(),g=!1,h=0,y=0;function I(){O(_,g,h,y);const t=performance.now(),e=1e3/(t-d);_%600===0&&console.log(`Frame ${_} took ${t-d}ms (${e}fps)`),d=t,_++,requestAnimationFrame(I)}function N(){const t=document.getElementById("canvas");t.addEventListener("mousedown",e=>{g=!0,h=e.offsetX,y=e.offsetY}),t.addEventListener("mouseup",()=>{g=!1}),t.addEventListener("mousemove",e=>{h=e.offsetX,y=e.offsetY}),requestAnimationFrame(I)}N();
